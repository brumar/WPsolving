Statistical analysis of the keyword model predictions
========================================================
<script src="jquery-2.0.3.min.js"></script>
<div class='anchorific'></div>
<link rel="stylesheet" href="style.css">


This analysis is the final step of a modelisation resarch programm aiming to bring quantitative support to the idea that student errors in word problem solving are not always caused by a mindless guesswork or keyword-based process but is more likely to be anchored in deep reinterpretation process occuring in case of hindrance in the solving process.

A blind algorithm generated all the possible formulas three numbers being given. The formulas are categorized according their complexity (set0 to set3 described later). P1,T1 and d are taken as token for numbers where T1>P1>d.

Another programm generated student-like solutions to some word problems describing mathematical relationships with P1,T1 and d. 
The programm mixed expert rules (computing an unknown whenever it's possible) and some reinterpretation steps to reach the solution. An example of reinterpretation step is taking "John has 4 marbles more than David" as "John has 4 marbles".
The programm was developped to generate as many solution path as possible following this pattern of expert computation rules and 1 or 2 reinterpration occuring during the solving process.

The goal is to prove that the selection of formulas generated by the second programm are more likely to occur in real world datas than blindly generated formulas. To prove that, we received datas gathered accross years by Valentine Chaillet during her Phd. More than one thousand "faulty" formulas are gathered accross 16 different problems and hundred of elementary students.   
# 0 Few preparations and data presentation
## 0.1 First lines of the dataset
```{r}
datas=read.csv2("datasForComparisons28042015/2015_04_30__12_36_18_NewComparisonKR/simulations_versus_observations_noExclusion2015_04_30__12_36_18.csv",sep=";",colClasses=c("factor","factor","factor","logical","logical","numeric"))
head(datas)
maxBootstrap=1000 # number of sampling for each permutation test
```
Variable description :
- problem : the code name of the problem
- set : the category of formula, we chose to make categories in order to eliminate from our analysis possible heuristics related to the number of operations and the choice of operands in the solving process due to the stereotypical aspect of word problem
- formula : the formula generated by the blind algorithm 
- selected : indicate if this formula is also generated by the reinterpretation model
- selectedKeyword : indicates if this formula is also generated by the keyword model
- occurences : count the number of occurences in the Dataset of Valentine for this problem and this formula.    

## 0.2 prepare logical vectors
```{r}
Lset0=datas$set=="set0"
Lset1=datas$set=="set1"
Lset2=datas$set=="set2"
Lset3=datas$set=="set3"
predictionsModel_Reinterp=datas$selected
predictionsModel_Keyword=datas$selectedKeyword
sm=sum(datas$occurrences)
```
There are sum=`r sm` observations attended to be explained by the models.
# 1 Reinterpretation Model Alone
## 1.1 Related setings
```{r}
currentPredictions=predictionsModel_Reinterp
globalInclusions=rep(TRUE,nrow(datas))
s=1 # keep track of the section in order to display titles
```
## 1.2 Model Evaluation
```{r child='ModelEvaluation.Rmd'}
```

# 2 KeyWords Model Alone
## 2.1 Related setings
```{r}
currentPredictions=predictionsModel_Keyword
globalInclusions=rep(TRUE,nrow(datas))
```

```{r child='ModelEvaluation.Rmd'}
```

# 3 KeyWord Model focused on non-predictions of Reinterpretation Model
## 3.1 Related setings
```{r}
currentPredictions=predictionsModel_Keyword
globalInclusions=!predictionsModel_Reinterp
```

```{r child='ModelEvaluation.Rmd'}
```

# 4 Reinterpretation Model focused on non-predictions of KeyWord Model
## 4.1 Related setings
```{r}
currentPredictions=predictionsModel_Reinterp
globalInclusions=!predictionsModel_Keyword
```

```{r child='ModelEvaluation.Rmd'}
```

# 5 Reinterpretation Model intersected with KeyWord Model
## 5.1 Related setings
```{r}
currentPredictions=predictionsModel_Reinterp & predictionsModel_Keyword
globalInclusions=rep(TRUE,nrow(datas))
```

```{r child='ModelEvaluation.Rmd'}
```

# 6 Reinterpretation Model UNION with KeyWord Model
## 6.1 Related setings
```{r}
currentPredictions=predictionsModel_Reinterp | predictionsModel_Keyword
globalInclusions=rep(TRUE,nrow(datas))
```

```{r child='ModelEvaluation.Rmd'}
```
<script>
$( document ).ready(function() {
    $('body').anchorific();
    $('body').wrapInner( '<div class="knitr"></div>');
});

</script>
<script src="anchorific.js"></script>
<div id="end">